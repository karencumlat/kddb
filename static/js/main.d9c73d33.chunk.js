(this.webpackJsonpkddb=this.webpackJsonpkddb||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),i=a.n(c),s=a(7),r=a.n(s),l=(a(13),a(4)),o=a.n(l),d=a(6),b=a(2),j=(a(15),"without_genres=16|99|10762|10763|10764|10767"),u="https://api.themoviedb.org/3/",m="".concat(u,"discover/tv?with_original_language=ko"),h="api_key=299cd45add63bfb2f4b534e2c123c7bb";var p=function(e){var t=e.name,a=e.overview,c=e.poster_path,i=e.genre;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("img",{src:JSON.stringify(c).includes("null")?"https://images.unsplash.com/photo-1540483761890-a1f7be05d99f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=645&q=80":"https://image.tmdb.org/t/p/w1280"+c,loading:"lazy",alt:t}),Object(n.jsxs)("div",{className:"card-info",children:[Object(n.jsx)("h3",{title:t,children:t}),Object(n.jsx)("small",{children:i||Object(n.jsx)("span",{children:"\xa0"})})]}),Object(n.jsxs)("div",{className:"overview",children:[Object(n.jsx)("h3",{title:t,children:t}),Object(n.jsx)("small",{children:i||""}),Object(n.jsx)("h4",{children:"Overview"}),a]})]},t)};a(16);var g=function(e){var t=e.name,a=e.overview,c=e.genre,i=e.backdrop_path,s=e.first_air_date;return Object(n.jsxs)("div",{className:"watching-container",children:[Object(n.jsx)("div",{className:"watching--backdrop",style:{backgroundImage:"url(".concat("https://image.tmdb.org/t/p/w1280"+i,")")},children:Object(n.jsxs)("div",{className:"backdrop--info",children:[Object(n.jsx)("h4",{className:"backdrop--info-title",children:t}),Object(n.jsxs)("small",{className:"backdrop--info-subtitle",children:[s.substring(0,4)," \u2022 ",c]}),Object(n.jsx)("p",{className:"backdrop--info-overview",children:a})]})}),Object(n.jsxs)("div",{className:"backdrop--info-mobile",children:[Object(n.jsx)("h4",{className:"backdrop--info-title",children:t}),Object(n.jsxs)("small",{className:"backdrop--info-subtitle",children:[s.substring(0,4)," \u2022 ",c]}),Object(n.jsx)("p",{className:"backdrop--info-overview",children:a})]})]})},f=a(3);a(17);var v=function(){return Object(n.jsxs)("div",{className:"container--no-results",children:[Object(n.jsx)("i",{className:"fc-film-reel",children:Object(n.jsx)(f.c,{className:"spin"})}),Object(n.jsx)("h2",{children:"No Results Found"}),Object(n.jsxs)("small",{children:["We could not find what you are looking for. ",Object(n.jsx)("br",{}),"Please try again or discover new KDramas from our full list."]}),Object(n.jsx)("button",{onClick:function(){return window.location.reload()},className:"no-results--btn",children:"Discover K-Dramas"})]})},O=[{id:10759,label:"actionAdventure",name:"Action & Adventure"},{id:16,label:"anime",name:"Animation"},{id:35,label:"comedy",name:"Comedy"},{id:80,label:"crime",name:"Crime"},{id:99,label:"docu",name:"Documentary"},{id:18,label:"drama",name:"Drama"},{id:10751,label:"family",name:"Family"},{id:10762,label:"kids",name:"Kids"},{id:9648,label:"mystery",name:"Mystery"},{id:10763,label:"news",name:"News"},{id:10764,label:"reality",name:"Reality"},{id:10765,label:"fantasy",name:"Sci-Fi & Fantasy"},{id:10766,label:"soap",name:"Soap"},{id:10767,label:"talk",name:"Talk"},{id:10768,label:"politics",name:"War & Politics"},{id:37,label:"western",name:"Western"}];a(18);var x=function(e){var t=e.drama,a=e.title;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:a}),Object(n.jsx)("div",{className:"card-group",children:null==t?"loading k-drama...":0===t.length?Object(n.jsx)(v,{}):t.map((function(e){var t=e.name,c=e.poster_path,i=e.vote_average,s=e.overview,r=e.genre_ids,l=O.map((function(e){return!0===r.includes(e.id)?e.name:""})).filter((function(e){return""!==e}));return"Watching"===a?Object(n.jsx)(g,{name:t,overview:s,genre:l.toString().replace(/,/g," \u2022 ").replace(/Action & Adventure/g,"Action"),backdrop_path:e.backdrop_path,first_air_date:e.first_air_date},t):Object(n.jsx)("div",{className:"card-group--content",children:Object(n.jsx)(p,{name:t,poster_path:c,vote_average:i,overview:s,genre:l.toString().replace(/,/g," \u2022 ").replace(/Action & Adventure/g,"Action")})},t)}))})]})};a(19);var w=function(e){var t=e.items,a=e.onClick,c=e.selectedValue,s=i.a.useState(!1),r=Object(b.a)(s,2),l=r[0],o=r[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("button",{className:"trigger-button",onClick:function(){return o(!l)},children:[Object(n.jsx)("span",{children:t.map((function(e){return e.name===c?e.title:""}))})," ",Object(n.jsx)("span",{children:l?Object(n.jsx)(f.b,{}):Object(n.jsx)(f.a,{})})]}),l?Object(n.jsx)("div",{className:"dropdown-menu",children:t.map((function(e,t){return Object(n.jsx)("button",{onClick:a,value:e.name,className:e.name===c?"dropdown-menu--item active":"dropdown-menu--item",children:e.title},e.name)}))}):""]})};a(20);var k=function(e){var t=e.items,a=e.onClick,c=e.selectedItem;return Object(n.jsx)("div",{className:"menu",children:t.map((function(e){return Object(n.jsx)("button",{onClick:a,value:e.name,className:e.name===c?"active":"",children:e.title},e.name)}))})};a(21);var N,_,y=function(e){var t=e.page,a=e.totalPages,c=e.onClickPrev,i=e.onClickNext;return Object(n.jsxs)("div",{className:"pagination",children:[Object(n.jsxs)("span",{className:"pagination-number",children:[t," of ",a," pages"]}),Object(n.jsx)("span",{className:"divider"}),Object(n.jsx)("button",{className:"pagination-previous",onClick:c,children:Object(n.jsx)(f.d,{})}),Object(n.jsx)("span",{className:"divider"}),Object(n.jsx)("button",{className:"pagination-next",onClick:i,children:Object(n.jsx)(f.e,{})})]})},S=new Date,C=S.getFullYear(),D=S.getMonth()+1,A=S.getDate();N=A<10?"0".concat(A):A;(_=1===D?12:D-1)<10?"".concat(C,"-0").concat(_,"-").concat(N):"".concat(C,"-").concat(_,"-").concat(N);var F=D<10?"".concat(C,"-0").concat(D,"-").concat(N):"".concat(C,"-").concat(D,"-").concat(N),W=[{name:"discover",title:"All Shows"},{name:"latest",title:"On Air"},{name:"upcoming",title:"Upcoming"},{name:"watching",title:"Watching"},{name:"watched",title:"Watched"}];a(22);var P=function(){var e=i.a.useState(!0),t=Object(b.a)(e,2),a=t[0],c=t[1],s=i.a.useState(1),r=Object(b.a)(s,2),l=r[0],p=r[1],g=i.a.useState(1),f=Object(b.a)(g,2),v=f[0],O=f[1],N="https://api.themoviedb.org/3/search/tv?".concat(h,"&").concat("&language=en-US","&page=").concat(l,'&query="'),_="".concat(m,"&").concat(h,"&page=").concat(l,"&").concat(j),S="".concat(u,"tv/on_the_air?with_original_language=ko&").concat(j,"&").concat(h,"&page=").concat(l),C="".concat(m,"&").concat(j,"&first_air_date.gte=").concat(F,"&sort_by=first_air_date.asc&").concat(h),D="https://api.themoviedb.org/4/list/7069256?page=".concat(l,"&api_key=299cd45add63bfb2f4b534e2c123c7bb"),A=i.a.useState("discover"),P=Object(b.a)(A,2),B=P[0],M=P[1],I=i.a.useState(""),K=Object(b.a)(I,2),R=K[0],H=(K[1],i.a.useState()),J=Object(b.a)(H,2),L=J[0],T=J[1],V=i.a.useState(),q=Object(b.a)(V,2),E=q[0],G=q[1],U=i.a.useState(),Y=Object(b.a)(U,2),z=Y[0],X=Y[1],Q=i.a.useState(),Z=Object(b.a)(Q,2),$=Z[0],ee=Z[1],te=i.a.useState(),ae=Object(b.a)(te,2),ne=ae[0],ce=ae[1],ie=i.a.useState(),se=Object(b.a)(ie,2),re=se[0],le=se[1];if(i.a.useEffect((function(){R&&function(e){oe.apply(this,arguments)}(N+R),de("latest"===B?S:"upcoming"===B?C:"watched"===B?D:"watching"===B?"https://api.themoviedb.org/4/list/7069257?page=1&api_key=299cd45add63bfb2f4b534e2c123c7bb":_)}),[R,l,B]),a)return Object(n.jsx)("div",{children:"Loading..."});function oe(){return(oe=Object(d.a)(o.a.mark((function e(t){var a,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,O(n.total_pages),i=n.results.filter((function(e){return"ko"===e.original_language})),T(i),c(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return be.apply(this,arguments)}function be(){return(be=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,O(n.total_pages),"latest"===B?X(n.results):"upcoming"===B?ee(n.results):"watched"===B?le(n.results):"watching"===B?ce(n.results):G(n.results),c(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsx)("header",{className:"app-header--mobile",children:Object(n.jsxs)("span",{className:"app-header--mobile-nav",children:[Object(n.jsx)("h1",{onClick:function(){return window.location.reload()},children:"KDDB"}),Object(n.jsx)("nav",{className:"",children:Object(n.jsx)(w,{items:W,onClick:function(e){p(1),M(e.target.value)},selectedValue:B})})]})}),Object(n.jsxs)("header",{className:"app-header",children:[Object(n.jsx)("h1",{onClick:function(){return window.location.reload()},children:"KDDB"}),Object(n.jsx)("nav",{className:"app-header--nav",children:Object(n.jsx)(k,{selectedItem:B,items:W,onClick:function(e){p(1),M(e.target.value)}})})]}),Object(n.jsx)("main",{id:"main",className:"app-main",children:R?Object(n.jsx)(x,{drama:L,title:"Search Result"}):"upcoming"===B?Object(n.jsx)(x,{drama:$,title:"Coming Soon"}):"watched"===B?Object(n.jsx)(x,{drama:re,title:"Watched"}):"watching"===B?Object(n.jsx)(x,{drama:ne,title:"Watching"}):"latest"===B?Object(n.jsx)(x,{drama:z,title:"New Releases"}):Object(n.jsx)(x,{drama:E,title:"Discover"})}),v>1?Object(n.jsx)("section",{className:"section-pagination",children:Object(n.jsx)(y,{page:l,totalPages:v,onClickPrev:function(){return p(1===l?1:l-1)},onClickNext:function(){return p(l===v?l:l+1)}})}):""]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(P,{})}),document.getElementById("root")),B()}],[[23,1,2]]]);
//# sourceMappingURL=main.d9c73d33.chunk.js.map