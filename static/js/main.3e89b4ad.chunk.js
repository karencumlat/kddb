(this.webpackJsonpkddb=this.webpackJsonpkddb||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),i=a.n(c),s=a(7),r=a.n(s),l=(a(13),a(4)),o=a.n(l),d=a(6),u=a(2),b=(a(15),"without_genres=16|99|10762|10763|10764|10767"),m="".concat("https://api.themoviedb.org/3/","discover/tv?with_original_language=ko"),j="api_key=299cd45add63bfb2f4b534e2c123c7bb";var h=function(e){var t=e.name,a=e.overview,c=e.poster_path,i=e.genre;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("img",{src:JSON.stringify(c).includes("null")?"https://images.unsplash.com/photo-1540483761890-a1f7be05d99f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=645&q=80":"https://image.tmdb.org/t/p/w1280"+c,alt:t}),Object(n.jsxs)("div",{className:"card-info",children:[Object(n.jsx)("h3",{children:t}),Object(n.jsx)("small",{children:i||Object(n.jsx)("span",{children:"\xa0"})})]}),Object(n.jsxs)("div",{className:"overview",children:[Object(n.jsx)("h3",{children:"Overview"}),a]})]},t)},p=[{id:10759,label:"actionAdventure",name:"Action & Adventure"},{id:16,label:"anime",name:"Animation"},{id:35,label:"comedy",name:"Comedy"},{id:80,label:"crime",name:"Crime"},{id:99,label:"docu",name:"Documentary"},{id:18,label:"drama",name:"Drama"},{id:10751,label:"family",name:"Family"},{id:10762,label:"kids",name:"Kids"},{id:9648,label:"mystery",name:"Mystery"},{id:10763,label:"news",name:"News"},{id:10764,label:"reality",name:"Reality"},{id:10765,label:"fantasy",name:"Sci-Fi & Fantasy"},{id:10766,label:"soap",name:"Soap"},{id:10767,label:"talk",name:"Talk"},{id:10768,label:"politics",name:"War & Politics"},{id:37,label:"western",name:"Western"}];a(16);var f=function(e){var t=e.drama,a=e.title;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:a}),Object(n.jsx)("div",{className:"card-group",children:null==t?"loading k-drama...":0===t.length?"search again...":t.map((function(e){var t=e.name,a=e.poster_path,c=e.vote_average,i=e.overview,s=e.genre_ids,r=p.map((function(e){return!0===s.includes(e.id)?e.name:""})).filter((function(e){return""!==e}));return Object(n.jsx)("div",{className:"card-group--content",children:Object(n.jsx)(h,{name:t,poster_path:a,vote_average:c,overview:i,genre:r.toString().replace(/,/g," \u2022 ").replace(/Action & Adventure/g,"Action")})},t)}))})]})},g=a(3);a(17);var v=function(e){var t=e.items,a=e.onClick,c=e.selectedValue,s=i.a.useState(!1),r=Object(u.a)(s,2),l=r[0],o=r[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("button",{className:"trigger-button",onClick:function(){return o(!l)},children:[Object(n.jsx)("span",{children:t.map((function(e){return e.name===c?e.title:""}))})," ",Object(n.jsx)("span",{children:l?Object(n.jsx)(g.b,{}):Object(n.jsx)(g.a,{})})]}),l?Object(n.jsx)("div",{className:"dropdown-menu",children:t.map((function(e,t){return Object(n.jsx)("button",{onClick:a,value:e.name,className:e.name===c?"dropdown-menu--item active":"dropdown-menu--item",children:e.title},e.name)}))}):""]})};a(18);var x=function(e){var t=e.items,a=e.onClick,c=e.selectedItem;return Object(n.jsx)("div",{className:"menu",children:t.map((function(e){return Object(n.jsx)("button",{onClick:a,value:e.name,className:e.name===c?"active":"",children:e.title},e.name)}))})};a(19);var O=function(e){var t=e.page,a=e.totalPages,c=e.onClickPrev,i=e.onClickNext;return Object(n.jsxs)("div",{className:"pagination",children:[Object(n.jsxs)("span",{className:"pagination-number",children:[t," of ",a," pages"]}),Object(n.jsx)("span",{className:"divider"}),Object(n.jsx)("button",{className:"pagination-previous",onClick:c,children:Object(n.jsx)(g.c,{})}),Object(n.jsx)("span",{className:"divider"}),Object(n.jsx)("button",{className:"pagination-next",onClick:i,children:Object(n.jsx)(g.d,{})})]})},w=new Date,N=w.getFullYear(),k=w.getMonth()+1,y=w.getDate(),_=k-2,C=_<10?"".concat(N,"-0").concat(_,"-").concat(y):"".concat(N,"-").concat(_,"-").concat(y),S="".concat(N,"-").concat(k,"-").concat(y),D=[{name:"best",title:"Best of 2020"},{name:"discover",title:"Discover"},{name:"latest",title:"New Releases"},{name:"upcoming",title:"Upcoming"},{name:"watching",title:"Watching"},{name:"watched",title:"Watched"}];a(20);var F=function(){var e=i.a.useState(1),t=Object(u.a)(e,2),a=t[0],c=t[1],s=i.a.useState(1),r=Object(u.a)(s,2),l=r[0],h=r[1],p="".concat(m,"&").concat(j,"&page=").concat(a,"&").concat(b),g="https://api.themoviedb.org/3/search/tv?".concat(j,'&query="'),w="".concat(m,"&").concat(b,"&first_air_date.gte=").concat(C,"&first_air_date.lte=").concat(S,"&sort_by=first_air_date.desc&").concat(j,"&page=").concat(a),N="".concat(m,"&").concat(b,"&first_air_date.gte=").concat(S,"&sort_by=first_air_date.asc&").concat(j),k="https://api.themoviedb.org/4/list/7069256?page=".concat(a,"&api_key=299cd45add63bfb2f4b534e2c123c7bb"),y=i.a.useState("best"),_=Object(u.a)(y,2),F=_[0],A=_[1],B=i.a.useState(""),P=Object(u.a)(B,2),W=P[0],M=P[1],K=i.a.useState(),I=Object(u.a)(K,2),R=I[0],H=I[1],J=i.a.useState(),T=Object(u.a)(J,2),V=T[0],q=T[1],E=i.a.useState(),G=Object(u.a)(E,2),L=G[0],Y=G[1],U=i.a.useState(),X=Object(u.a)(U,2),z=X[0],Q=X[1],Z=i.a.useState(),$=Object(u.a)(Z,2),ee=$[0],te=$[1],ae=i.a.useState(),ne=Object(u.a)(ae,2),ce=ne[0],ie=ne[1],se=i.a.useState(),re=Object(u.a)(se,2),le=re[0],oe=re[1];function de(){return(de=Object(d.a)(o.a.mark((function e(t){var a,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,c=n.results.filter((function(e){return"ko"===e.original_language})),H(c);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return be.apply(this,arguments)}function be(){return(be=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,h(n.total_pages),"latest"===F?Y(n.results):"upcoming"===F?Q(n.results):"watched"===F?te(n.results):"watching"===F?ie(n.results):"discover"===F?q(n.results):oe(n.results);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){M(e.target.value)}return i.a.useEffect((function(){W&&function(e){de.apply(this,arguments)}(g+W),ue("latest"===F?w:"upcoming"===F?N:"watched"===F?k:"watching"===F?"https://api.themoviedb.org/4/list/7069257?page=1&api_key=299cd45add63bfb2f4b534e2c123c7bb":"discover"===F?p:"https://api.themoviedb.org/4/list/7069430?page=1&api_key=299cd45add63bfb2f4b534e2c123c7bb")}),[W,a,F]),Object(n.jsxs)("div",{className:"app",children:[Object(n.jsxs)("header",{className:"app-header--mobile",children:[Object(n.jsxs)("span",{className:"app-header--mobile-nav",children:[Object(n.jsx)("h1",{onClick:function(){return window.location.reload()},children:"KDDB"}),Object(n.jsx)("nav",{className:"",children:Object(n.jsx)(v,{items:D,onClick:function(e){A(e.target.value)},selectedValue:F})})]}),Object(n.jsx)("form",{id:"form",children:Object(n.jsx)("input",{type:"text",id:"search",className:"search",placeholder:"Search K-Drama...",onChange:me})})]}),Object(n.jsxs)("header",{className:"app-header",children:[Object(n.jsx)("h1",{onClick:function(){return window.location.reload()},children:"KDDB"}),Object(n.jsx)("nav",{className:"app-header--nav",children:Object(n.jsx)(x,{selectedItem:F,items:D,onClick:function(e){A(e.target.value)}})}),Object(n.jsx)("form",{id:"form",children:Object(n.jsx)("input",{type:"text",id:"search",className:"search",placeholder:"Search K-Drama...",onChange:me})})]}),Object(n.jsx)("main",{id:"main",className:"app-main",children:W?Object(n.jsx)(f,{drama:R,title:"Search Result"}):"upcoming"===F?Object(n.jsx)(f,{drama:z,title:"Coming Soon"}):"watched"===F?Object(n.jsx)(f,{drama:ee,title:"Watched"}):"watching"===F?Object(n.jsx)(f,{drama:ce,title:"Currently Watching"}):"latest"===F?Object(n.jsx)(f,{drama:L,title:"New Releases"}):"discover"===F?Object(n.jsx)(f,{drama:V,title:"Discover"}):Object(n.jsx)(f,{drama:le,title:"Best of 2020"})}),"watched"===F||"latest"===F||"discover"===F?Object(n.jsx)("section",{className:"section-pagination",children:Object(n.jsx)(O,{page:a,totalPages:l,onClickPrev:function(){return c(1===a?1:a-1)},onClickNext:function(){return c(a===l?a:a+1)}})}):""]})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,22)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),A()}],[[21,1,2]]]);
//# sourceMappingURL=main.3e89b4ad.chunk.js.map