(this.webpackJsonpkddb=this.webpackJsonpkddb||[]).push([[0],[,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),i=a.n(c),s=a(7),r=a.n(s),o=(a(13),a(4)),l=a.n(o),d=a(5),u=a(2),j=(a(15),"without_genres=16|99|10762|10763|10764|10767"),b="https://api.themoviedb.org/3/",m="".concat(b,"discover/tv?with_original_language=ko"),h="api_key=299cd45add63bfb2f4b534e2c123c7bb",p="&language=en-US";var f=function(e){var t=e.name,a=e.overview,c=e.poster_path,i=e.genre;return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("img",{src:JSON.stringify(c).includes("null")?"https://images.unsplash.com/photo-1540483761890-a1f7be05d99f?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=645&q=80":"https://image.tmdb.org/t/p/w1280"+c,loading:"lazy",alt:t}),Object(n.jsxs)("div",{className:"card-info",children:[Object(n.jsx)("h3",{title:t,children:t}),Object(n.jsx)("small",{children:i||Object(n.jsx)("span",{children:"\xa0"})})]}),Object(n.jsxs)("div",{className:"overview",children:[Object(n.jsx)("h3",{title:t,children:t}),Object(n.jsx)("small",{children:i||""}),Object(n.jsx)("h4",{children:"Overview"}),a]})]},t)},O=a(3);a(16);var v=function(){return Object(n.jsxs)("div",{className:"container--no-results",children:[Object(n.jsx)("i",{className:"fc-film-reel",children:Object(n.jsx)(O.c,{className:"spin"})}),Object(n.jsx)("h2",{children:"No Results Found"}),Object(n.jsxs)("small",{children:["We could not find what you are looking for. ",Object(n.jsx)("br",{}),"Please try again or discover new KDramas from our full list."]}),Object(n.jsx)("button",{onClick:function(){return window.location.reload()},className:"no-results--btn",children:"Discover K-Dramas"})]})},x=[{id:10759,label:"actionAdventure",name:"Action & Adventure"},{id:16,label:"anime",name:"Animation"},{id:35,label:"comedy",name:"Comedy"},{id:80,label:"crime",name:"Crime"},{id:99,label:"docu",name:"Documentary"},{id:18,label:"drama",name:"Drama"},{id:10751,label:"family",name:"Family"},{id:10762,label:"kids",name:"Kids"},{id:9648,label:"mystery",name:"Mystery"},{id:10763,label:"news",name:"News"},{id:10764,label:"reality",name:"Reality"},{id:10765,label:"fantasy",name:"Sci-Fi & Fantasy"},{id:10766,label:"soap",name:"Soap"},{id:10767,label:"talk",name:"Talk"},{id:10768,label:"politics",name:"War & Politics"},{id:37,label:"western",name:"Western"}];a(17);var g=function(e){var t=e.drama,a=e.title;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h2",{children:a}),Object(n.jsx)("div",{className:"card-group",children:null==t?"loading k-drama...":0===t.length?Object(n.jsx)(v,{}):t.map((function(e){var t=e.name,a=e.poster_path,c=e.vote_average,i=e.overview,s=e.genre_ids,r=x.map((function(e){return!0===s.includes(e.id)?e.name:""})).filter((function(e){return""!==e}));return Object(n.jsx)("div",{className:"card-group--content",children:Object(n.jsx)(f,{name:t,poster_path:a,vote_average:c,overview:i,genre:r.toString().replace(/,/g," \u2022 ").replace(/Action & Adventure/g,"Action")})},t)}))})]})};a(18);var w=function(e){var t=e.items,a=e.onClick,c=e.selectedValue,s=i.a.useState(!1),r=Object(u.a)(s,2),o=r[0],l=r[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("button",{className:"trigger-button",onClick:function(){return l(!o)},children:[Object(n.jsx)("span",{children:t.map((function(e){return e.name===c?e.title:""}))})," ",Object(n.jsx)("span",{children:o?Object(n.jsx)(O.b,{}):Object(n.jsx)(O.a,{})})]}),o?Object(n.jsx)("div",{className:"dropdown-menu",children:t.map((function(e,t){return Object(n.jsx)("button",{onClick:a,value:e.name,className:e.name===c?"dropdown-menu--item active":"dropdown-menu--item",children:e.title},e.name)}))}):""]})};a(19);var N=function(e){var t=localStorage.getItem("featID"),a=i.a.useState(!0),c=Object(u.a)(a,2),s=c[0],r=c[1],o=e.title,j=(e.id,i.a.useState()),m=Object(u.a)(j,2),f=m[0],O=m[1],v=i.a.useState(),x=Object(u.a)(v,2),g=(x[0],x[1]);function w(){return(w=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all([fetch("".concat(b,"tv/").concat(t,"?").concat(h).concat(p)),fetch("".concat(b,"tv/").concat(t,"/credits?").concat(h).concat(p))]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){e.forEach((function(e,t){0===t?O(e):g(e)}))})).catch((function(e){console.log(e)})),r(!1);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i.a.useEffect((function(){!function(){w.apply(this,arguments)}()}),[t]),s?Object(n.jsx)("div",{children:"Loading..."}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:o}),void(null!==f&&console.log(f.name))]})};a(20);var k=function(e){var t=e.items,a=e.onClick,c=e.selectedItem;return Object(n.jsx)("div",{className:"menu",children:t.map((function(e){return Object(n.jsx)("button",{onClick:a,value:e.name,className:e.name===c?"active":"",children:e.title},e.name)}))})};a(21);var y,S,_=function(e){var t=e.page,a=e.totalPages,c=e.onClickPrev,i=e.onClickNext;return Object(n.jsxs)("div",{className:"pagination",children:[Object(n.jsxs)("span",{className:"pagination-number",children:[t," of ",a," pages"]}),Object(n.jsx)("span",{className:"divider"}),Object(n.jsx)("button",{className:"pagination-previous",onClick:c,children:Object(n.jsx)(O.d,{})}),Object(n.jsx)("span",{className:"divider"}),Object(n.jsx)("button",{className:"pagination-next",onClick:i,children:Object(n.jsx)(O.e,{})})]})},C=new Date,D=C.getFullYear(),F=C.getMonth()+1,P=C.getDate();y=P<10?"0".concat(P):P;var A=(S=1===F?12:F-1)<10?"".concat(D,"-0").concat(S,"-").concat(y):"".concat(D,"-").concat(S,"-").concat(y),I=F<10?"".concat(D,"-0").concat(F,"-").concat(y):"".concat(D,"-").concat(F,"-").concat(y),W=[{name:"discover",title:"Discover"},{name:"latest",title:"New Releases"},{name:"upcoming",title:"Upcoming"},{name:"watching",title:"Watching"},{name:"watched",title:"Watched"}];a(22);var K=function(){var e=i.a.useState(!0),t=Object(u.a)(e,2),a=t[0],c=t[1],s=i.a.useState(1),r=Object(u.a)(s,2),o=r[0],b=r[1],p=i.a.useState(1),f=Object(u.a)(p,2),O=f[0],v=f[1],x="https://api.themoviedb.org/3/search/tv?".concat(h,'&query="'),y="".concat(m,"&").concat(h,"&page=").concat(o,"&").concat(j),S="".concat(m,"&").concat(j,"&first_air_date.gte=").concat(A,"&first_air_date.lte=").concat(I,"&sort_by=first_air_date.desc&").concat(h,"&page=").concat(o),C="".concat(m,"&").concat(j,"&first_air_date.gte=").concat(I,"&sort_by=first_air_date.asc&").concat(h),D="https://api.themoviedb.org/4/list/7069256?page=".concat(o,"&api_key=299cd45add63bfb2f4b534e2c123c7bb"),F=i.a.useState("discover"),P=Object(u.a)(F,2),K=P[0],B=P[1],M=i.a.useState(""),R=Object(u.a)(M,2),E=R[0],L=R[1],H=i.a.useState(),J=Object(u.a)(H,2),T=J[0],V=J[1],q=i.a.useState(),G=Object(u.a)(q,2),U=G[0],Y=G[1],z=i.a.useState(),X=Object(u.a)(z,2),Q=X[0],Z=X[1],$=i.a.useState(),ee=Object(u.a)($,2),te=ee[0],ae=ee[1],ne=i.a.useState(),ce=Object(u.a)(ne,2),ie=(ce[0],ce[1],i.a.useState()),se=Object(u.a)(ie,2),re=se[0],oe=se[1],le=i.a.useState(),de=Object(u.a)(le,2),ue=de[0],je=de[1];if(i.a.useEffect((function(){E&&function(e){be.apply(this,arguments)}(x+E),me("latest"===K?S:"upcoming"===K?C:"watched"===K?D:"watching"===K?"https://api.themoviedb.org/4/list/7069257?page=1&api_key=299cd45add63bfb2f4b534e2c123c7bb":y)}),[E,o,K]),a)return Object(n.jsx)("div",{children:"Loading..."});function be(){return(be=Object(d.a)(l.a.mark((function e(t){var a,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,i=n.results.filter((function(e){return"ko"===e.original_language})),V(i),c(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e){return he.apply(this,arguments)}function he(){return(he=Object(d.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,v(n.total_pages),"latest"===K?Z(n.results):"upcoming"===K?ae(n.results):"watched"===K?oe(n.results):"watching"===K?je(n.results[0].id):Y(n.results),c(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pe(e){L(e.target.value)}return ue&&localStorage.setItem("featID",ue),Object(n.jsxs)("div",{className:"app",children:[Object(n.jsxs)("header",{className:"app-header--mobile",children:[Object(n.jsxs)("span",{className:"app-header--mobile-nav",children:[Object(n.jsx)("h1",{onClick:function(){return window.location.reload()},children:"KDDB"}),Object(n.jsx)("nav",{className:"",children:Object(n.jsx)(w,{items:W,onClick:function(e){b(1),B(e.target.value)},selectedValue:K})})]}),Object(n.jsx)("form",{id:"form",children:Object(n.jsx)("input",{type:"text",id:"search",className:"search",placeholder:"Search K-Drama...",onChange:pe})})]}),Object(n.jsxs)("header",{className:"app-header",children:[Object(n.jsx)("h1",{onClick:function(){return window.location.reload()},children:"KDDB"}),Object(n.jsx)("nav",{className:"app-header--nav",children:Object(n.jsx)(k,{selectedItem:K,items:W,onClick:function(e){b(1),B(e.target.value)}})}),Object(n.jsx)("form",{id:"form",children:Object(n.jsx)("input",{type:"text",id:"search",className:"search",placeholder:"Search K-Drama...",onChange:pe})})]}),Object(n.jsx)("main",{id:"main",className:"app-main",children:E?Object(n.jsx)(g,{drama:T,title:"Search Result"}):"upcoming"===K?Object(n.jsx)(g,{drama:te,title:"Coming Soon"}):"watched"===K?Object(n.jsx)(g,{drama:re,title:"Watched"}):"watching"===K?Object(n.jsx)(N,{id:ue,title:"Watching"}):"latest"===K?Object(n.jsx)(g,{drama:Q,title:"New Releases"}):Object(n.jsx)(g,{drama:U,title:"Discover"})}),O>1?Object(n.jsx)("section",{className:"section-pagination",children:Object(n.jsx)(_,{page:o,totalPages:O,onClickPrev:function(){return b(1===o?1:o-1)},onClickNext:function(){return b(o===O?o:o+1)}})}):""]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,24)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(K,{})}),document.getElementById("root")),B()}],[[23,1,2]]]);
//# sourceMappingURL=main.038ed99e.chunk.js.map